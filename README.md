# Video Processor

Приложение для обработки видео с возможностью отслеживания объектов и визуализации в 3D.

## Описание

Video Processor - это приложение для обработки видео, которое позволяет:
- Загружать видеофайлы и работать с камерой в реальном времени
- Настраивать фильтры изображения (яркость, контраст, резкость, шумоподавление)
- Выбирать область обрезки на изображении
- Отслеживать объекты на видео с использованием компьютерного зрения
- Визуализировать результаты в 3D в реальном времени
- Автоматически оптимизировать параметры обработки

## Установка

1. Убедитесь, что у вас установлен Python 3.8 или выше.

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Использование

Запустите приложение:
```bash
python src/main.py
```

Или из папки src:
```bash
cd src
python main.py
```

### Запуск в Docker

#### Сборка образа
```bash
docker build -t video-processor .
```

#### Запуск контейнера
```bash
docker-compose up
```

Или напрямую:
```bash
docker run -it --rm \
  -e DISPLAY=$DISPLAY \
  -v /tmp/.X11-unix:/tmp/.X11-unix \
  video-processor
```

## Основные возможности

### Выбор источника
- **Файл**: Загрузите видеофайл (поддерживаются форматы: mp4, avi, mov, mkv)
- **Камера**: Работайте с видеокамерой в реальном времени

### Настройка фильтров
- **Яркость**: Регулировка яркости изображения (-100 до 100)
- **Контраст**: Регулировка контрастности (-15 до 15)
- **Резкость**: Улучшение резкости изображения (0 до 100)
- **Шумоподавление**: Уменьшение шума на изображении (0 до 100)

### Автоматическая оптимизация
Включите опцию "Автоматическая фильтрация" для автоматического подбора оптимальных параметров обработки.

### Выбор области обрезки
Удерживайте левую кнопку мыши и растяните прямоугольник на изображении для выбора области обрезки.

### 3D визуализация
Приложение отображает результаты отслеживания объектов в отдельном окне с 3D визуализацией.

## Структура проекта

```
Video-processor/
├── main.py              # Главный модуль приложения
├── gui.py               # Графический интерфейс
├── video_processor.py   # Обработка видео и отслеживание объектов
├── camera.py            # Выбор камеры
├── autoParams.py        # Автоматическая оптимизация параметров
├── new_dot_sorter.py    # Сортировка и сопоставление точек
├── plt.py               # 3D визуализация
├── ui1.ui               # Файл интерфейса Qt Designer
├── vid_pic.png          # Изображение по умолчанию
├── requirements.txt     # Зависимости проекта
└── README.md           # Документация
```

## Требования

- Python 3.8+
- PyQt6
- OpenCV
- NumPy
- VisPy
- SciPy
- Matplotlib
- Optuna

## Технические детали

Приложение использует:
- **OpenCV** для обработки изображений и видео
- **PyQt6** для графического интерфейса
- **VisPy** для 3D визуализации
- **Optuna** для оптимизации параметров обработки
- **NumPy** и **SciPy** для научных вычислений

## Авторы

Проект разработан для обработки видео и отслеживания объектов.

## Лицензия

Используйте проект по своему усмотрению.